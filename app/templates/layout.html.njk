<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Žiacka knižka{% endblock %}</title>

    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
    <div class="container">
        <a class="navbar-brand" href="/">Žiacka knižka</a>

        <div class="collapse navbar-collapse">
            <ul class="navbar-nav me-auto">

                {% if user and user.role == 'ADMIN' %}
                    <li class="nav-item">
                        <a class="nav-link" href="/admin">Používatelia</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/classes">Triedy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/class-subjects">Predmety v triedach</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/subjects">Predmety</a>
                    </li>
                {% endif %}

                {% if user and user.role == 'TEACHER' %}
                    <li class="nav-item">
                        <a class="nav-link" href="/teacher">Moje predmety</a>
                    </li>
                {% endif %}

                {% if user and user.role == 'STUDENT' %}
                    <li class="nav-item">
                        <a class="nav-link" href="/student">Moje známky</a>
                    </li>
                {% endif %}

            </ul>

            {% if user %}
                <span class="me-3">
                    Prihlásený: <strong>{{ user.username }}</strong>
                </span>
                <a href="/user/logout" class="btn btn-success btn-sm">
                    Odhlásiť
                </a>
            {% endif %}
        </div>
    </div>
</nav>

<div class="container">

    {% if flash.error %}
        <div class="alert alert-danger">
            {{ flash.error | join('<br>') | safe }}
        </div>
    {% endif %}

    {% if flash.success %}
        <div class="alert alert-success">
            {{ flash.success | join('<br>') | safe }}
        </div>
    {% endif %}

    {% block content %}{% endblock %}
</div>

<!-- BOOTSTRAP JS – POVINNÉ -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
